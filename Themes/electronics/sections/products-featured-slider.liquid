{%- liquid
  assign st = section.settings
  assign style_layout = st.style_layout
  assign heading = st.heading
  assign sub_heading = st.sub_heading
  assign cls = st.collection
  if bl != blank
    assign cls = bl
  endif
  assign limit_products = st.limit_products | plus: 0
  assign collection = collections[cls]
-%}

{%- capture style -%}
  padding-top: {{ st.padding_top }}px; padding-bottom: {{ st.padding_bottom }}px;
{%- endcapture -%}
{%- if style_layout == "style-1" -%}

  <section
    class="tp-featured-slider-area grey-bg-6 fix pt-95 pb-120"
    style="{{ style | strip | strip_newlines }}"
    data-id="{{ section.id }}">
    <div class="container">
      {%- if heading != blank or sub_heading != blank -%}
        <div class="row">
          <div class="col-xl-12">
            <div class="tp-section-title-wrapper-2 mb-50">
              {%- if sub_heading != blank -%}
                <span class="tp-section-title-pre-2">
                  {{ sub_heading }}
                  <svg
                    width="82"
                    height="22"
                    viewBox="0 0 82 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M81 14.5798C0.890564 -8.05914 -5.81154 0.0503902 5.00322 21"
                      stroke="currentColor"
                      stroke-opacity="0.3"
                      stroke-width="2"
                      stroke-miterlimit="3.8637"
                      stroke-linecap="round" />
                  </svg>
                </span>
              {%- endif -%}
              {%- if heading != blank -%}
                <h3 class="tp-section-title-2">{{ heading }}</h3>
              {%- endif -%}
            </div>
          </div>
        </div>
      {%- endif -%}
      <div class="row">
        <div class="col-xl-12">
          <div class="tp-featured-slider">
            <div class="tp-featured-slider-active swiper-container">
              <div class="swiper-wrapper">
                {%- if collection.products.size == 0 -%}
                  {%- for i in (1..limit_products) -%}
                    <div class="tp-featured-item swiper-slide white-bg p-relative z-index-1">
                      <div class="tp-featured-thumb include-bg" data-background="{{ 'placeholder.png' | asset_img_url: '300x300' }}"></div>
                      <div class="tp-featured-content">
                        <h3 class="tp-featured-title">
                          <a role="link" aria-disabled="true">{{ 'products.product.product_placeholder' | t }}</a>
                        </h3>
                        <div class="tp-featured-price-wrapper">
                          <span class="tp-featured-price new-price">$102.00</span>
                          <span class="tp-featured-price old-price">$226.00</span>
                        </div>
                      </div>
                    </div>
                  {%- endfor -%}
                {%- else -%}
                  {%- for product in collection.products limit: limit_products -%}
                    <div class="tp-featured-item swiper-slide white-bg p-relative z-index-1">
                      {%- render 'product-item' | product: product, product_item: "fetured-slider-item" -%}
                    </div>
                  {%- endfor -%}
                {%- endif -%}
              </div>
            </div>
            <div class="tp-featured-slider-arrow mt-45">
              <button class="tp-featured-slider-button-prev">
                <svg
                  width="33"
                  height="16"
                  viewBox="0 0 33 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M1.97974 7.97534L31.9797 7.97534"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round" />
                  <path
                    d="M8.02954 0.999999L0.999912 7.99942L8.02954 15"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </button>
              <button class="tp-featured-slider-button-next">
                <svg
                  width="33"
                  height="16"
                  viewBox="0 0 33 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M30.9795 7.97534L0.979492 7.97534"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round" />
                  <path
                    d="M24.9297 0.999999L31.9593 7.99942L24.9297 15"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

{%- elsif style_layout == "style-2" -%}
  <section class="tp-best-area pt-115">
    <div class="container">
      {%- if heading != blank or sub_heading != blank -%}
        <div class="row">
          <div class="col-xl-12">
            <div class="tp-section-title-wrapper-4 mb-50 text-center">
              {%- if sub_heading != blank -%}
                <span class="tp-section-title-pre-4">{{ sub_heading }}</span>
              {%- endif -%}
              {%- if heading != blank -%}
                <h3 class="tp-section-title-4">{{ heading }}</h3>
              {%- endif -%}
            </div>
          </div>
        </div>
      {%- endif -%}
      <div class="row">
        <div class="col-xl-12">
          <div class="tp-best-slider">
            <div class="tp-best-slider-active swiper-container mb-10">
              <div class="swiper-wrapper">

                {%- if collection.products.size == 0 -%}
                  {%- for i in (1..limit_products) -%}
                    <div class="tp-best-item-4 swiper-slide">
                      <div class="tp-product-item-4 p-relative mb-40">
                        <div class="tp-product-thumb-4 w-img fix">
                          {%- render 'placeholder-render' | type: 'product' -%}
                        </div>
                        <div class="tp-product-content-4">
                          <h3 class="tp-product-title-4">
                            <a role="link" aria-disabled="true">{{ 'products.product.product_placeholder' | t }}</a>
                          </h3>
                          <div class="tp-product-info-4">
                            <p>Sterling silver erring</p>
                          </div>
                          <div class="tp-best-price">
                            <div class="tp-product-price-wrapper-4">
                              <span class="tp-product-price-4">$78</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  {%- endfor -%}
                {%- else -%}
                  {%- for product in collection.products limit: limit_products -%}
                    <div class="tp-best-item-4 swiper-slide">
                      {%- render 'product-item' | product: product, product_item: "tp-product-item-4" -%}
                    </div>
                  {%- endfor -%}
                {%- endif -%}
              </div>
            </div>
            <div class="tp-best-swiper-scrollbar tp-swiper-scrollbar"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
{%- endif -%}

{% schema %}
{
  "name": "Products Fetured Slider",
  "settings": [
    {
      "type": "header",
      "content": "Section header"
    },
    {
      "type": "select",
      "id": "style_layout",
      "label": "Style layout",
      "default": "style-1",
      "options": [
        {
          "value": "style-1",
          "label": "Style 1"
        },
        {
          "value": "style-2",
          "label": "Style 2"
        }
      ]
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Top Selling Products"
    },
    {
      "type": "text",
      "id": "sub_heading",
      "label": "Sub heading",
      "default": "Best Seller This Weeks"
    },
    {
      "type": "header",
      "content": "General"
    },
    {
      "type": "select",
      "id": "container",
      "label": "Layout",
      "default": "container",
      "options": [
        {
          "value": "container",
          "label": "Default"
        },
        {
          "value": "container-fluid",
          "label": "Fluid container"
        },
        {
          "value": "full-width",
          "label": "Full width"
        }
      ]
    },
    {
      "type": "header",
      "content": "Product settings"
    },
    {
      "id": "collection",
      "type": "collection",
      "label": "Select collection"
    },
    {
      "type": "range",
      "id": "limit_products",
      "label": "Products to show",
      "min": 1,
      "max": 20,
      "step": 1,
      "default": 8
    },
    {
      "type": "header",
      "content": "View all"
    },
    {
      "type": "checkbox",
      "id": "view_all_enable",
      "label": "Show \"View all\"",
      "default": false
    },
    {
      "type": "text",
      "id": "text_view_all",
      "label": "Text",
      "default": "View All"
    },
    {
      "type": "header",
      "content": "Section padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "default": 0,
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "default": 0,
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px"
    }
  ],
  "presets": [
    {
      "name": "Products Fetured Slider"
    }
  ]
}
{% endschema %}