{%- liquid
  assign st = section.settings
  assign heading = st.heading
  assign subheading = st.subheading

-%}

<section class="tp-subscribe-area pt-70 pb-65 theme-bg p-relative z-index-1">
  {%- if st.shape_image_show -%}
    <div class="tp-subscribe-shape">
      {%- if st.shape_image_1 != blank -%}
        {{ st.shape_image_1 | image_url | img_tag: 'The Soap Store', 'tp-subscribe-shape-1' }}
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'custom_slider_placeholder_shape_image tp-subscribe-shape-1' }}
      {%- endif -%}
      {%- if st.shape_image_2 != blank -%}
        {{ st.shape_image_2 | image_url | img_tag: 'The Soap Store', 'tp-subscribe-shape-2' }}
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'custom_slider_placeholder_shape_image tp-subscribe-shape-2' }}
      {%- endif -%}
      {%- if st.shape_image_3 != blank -%}
        {{ st.shape_image_3 | image_url | img_tag: 'The Soap Store', 'tp-subscribe-shape-3' }}
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'custom_slider_placeholder_shape_image tp-subscribe-shape-3' }}
      {%- endif -%}
      {%- if st.shape_image_4 != blank -%}
        {{ st.shape_image_4 | image_url | img_tag: 'The Soap Store', 'tp-subscribe-shape-4' }}
      {%- else -%}
        {{ 'image' | placeholder_svg_tag: 'custom_slider_placeholder_shape_image tp-subscribe-shape-4' }}
      {%- endif -%}

      <div class="tp-subscribe-plane">
        {%- if st.shape_image_5 != blank -%}
          {{ st.shape_image_5 | image_url | img_tag: 'The Soap Store', 'tp-subscribe-plane-shape' }}
        {%- else -%}
          {{ 'image' | placeholder_svg_tag: 'custom_slider_placeholder_shape_image tp-subscribe-plane-shape' }}
        {%- endif -%}
        <svg
          width="399"
          height="110"
          class="d-none d-sm-block"
          viewBox="0 0 399 110"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M0.499634 1.00049C8.5 20.0005 54.2733 13.6435 60.5 40.0005C65.6128 61.6426 26.4546 130.331 15 90.0005C-9 5.5 176.5 127.5 218.5 106.5C301.051 65.2247 202 -57.9188 344.5 40.0003C364 53.3997 384 22 399 22" stroke="white" stroke-opacity="0.5" stroke-dasharray="3 3"/>
        </svg>
        <svg
          class="d-sm-none"
          width="193"
          height="110"
          viewBox="0 0 193 110"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M1 1C4.85463 20.0046 26.9085 13.6461 29.9086 40.0095C32.372 61.6569 13.5053 130.362 7.98637 90.0217C-3.57698 5.50061 85.7981 127.53 106.034 106.525C145.807 65.2398 98.0842 -57.9337 166.742 40.0093C176.137 53.412 185.773 22.0046 193 22.0046" stroke="white" stroke-opacity="0.5" stroke-dasharray="3 3"/>
        </svg>
      </div>
    </div>
  {%- endif -%}
  <div class="container">
    <div class="row align-items-center">
      {%- if heading != blank or subheading != blank -%}
        <div class="col-xl-7 col-lg-7">
          <div class="tp-subscribe-content">
            {%- if subheading != blank -%}
              <span>{{ section.settings.subheading }}</span>
            {%- endif -%}
            {%- if heading != blank -%}
              <h3 class="tp-subscribe-title">{{ section.settings.heading }}</h3>
            {%- endif -%}
          </div>
        </div>
      {%- endif -%}
      <div class="col-xl-5 col-lg-5">
        <div class="tp-subscribe-form">
          {%- form 'customer', class: 'subscribe-form' -%}
            <input type="hidden" name="contact[tags]" value="newsletter">
            <div class="tp-subscribe-input">
              <input
                type="email"
                required
                name="contact[email]"
                value="{% if customer %}{{ customer.email }}{% endif %}"
                placeholder="{{ st.email_placeholder }}"
              >
              <button name="commit" type="submit">{{ st.btn_text }}</button>
            </div>
          {%- endform -%}
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Newsletter",
  "settings": [
    {
      "type": "header",
      "content": "Section header"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Sign up now & get 10% off"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Sub Heading",
      "default": "Sale 20% off all store"
    },
    {
      "type": "header",
      "content": "General"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "email_placeholder",
      "label": "Email placeholder text",
      "default": "Your email address..."
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "Button label",
      "default": "Subscribe"
    },
    {
      "type": "header",
      "content": "Shape Image"
    },
    {
      "type": "checkbox",
      "id": "shape_image_show",
      "label": "Show Shape Image",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "shape_image_1",
      "label": "Shape Image 1"
    },
    {
      "type": "image_picker",
      "id": "shape_image_2",
      "label": "Shape Image 2"
    },
    {
      "type": "image_picker",
      "id": "shape_image_3",
      "label": "Shape Image 3"
    },
    {
      "type": "image_picker",
      "id": "shape_image_4",
      "label": "Shape Image 4"
    },
    {
      "type": "image_picker",
      "id": "shape_image_5",
      "label": "Shape Image 5"
    }
  ],
  "presets": [
    {
      "name": "Newsletter"
    }
  ]
}
{% endschema %}
